<?php
function cyr2url($string) {
        $string_replace = array(
            "А"=>"a","Б"=>"b","В"=>"v","Г"=>"g",
            "Д"=>"d","Е"=>"e","Ж"=>"j","З"=>"z","И"=>"i",
            "Й"=>"y","К"=>"k","Л"=>"l","М"=>"m","Н"=>"n",
            "О"=>"o","П"=>"p","Р"=>"r","С"=>"s","Т"=>"t",
            "У"=>"u","Ф"=>"f","Х"=>"h","Ц"=>"ts","Ч"=>"ch",
            "Ш"=>"sh","Щ"=>"sht","Ъ"=>"","Ь"=>"","ЬО"=>"yo",
            "Ю"=>"yu","Я"=>"ya",
            
            "а"=>"a","б"=>"b",
            "в"=>"v","г"=>"g","д"=>"d","е"=>"e","ж"=>"j",
            "з"=>"z","и"=>"i","й"=>"y","к"=>"k","л"=>"l",
            "м"=>"m","н"=>"n","о"=>"o","п"=>"p","р"=>"r",
            "с"=>"s","т"=>"t","у"=>"u","ф"=>"f","х"=>"h",
            "ц"=>"ts","ч"=>"ch","ш"=>"sh","щ"=>"sht","ъ"=>"y",
            "ь"=>"","ьо"=>"yo","ю"=>"yu","я"=>"ya", 
            " "=> "_", "."=> "_", "/"=> "_", ","=> "", "0"=> "0", "1"=> "1", "2"=> "2", "3"=> "3", "4"=> "4", "5"=> "5", "6"=> "6", "7"=> "7", "8"=> "8", "9"=> "9", "!" => "", ":"=> "_", 
            "+" => "", "-" => "", "„" => "", "”" => "", "(" => "", ")" => "", "%" => "", "*" => "", "", "&" => "", "\"" => "", "/" => "", "–"  => "", "“" => ""
        );
        return strtolower(strtr($string,$string_replace));
    }
    